# 의존관계 주입

### 의존
![image](https://user-images.githubusercontent.com/70372188/214517672-016a8100-bc8c-4a83-a410-4d605a359659.png)

```
A가 B에 의존하고 있다. 의존한다는 건 무슨 의미일까? 

의존대상인 B가 변한다면 그것이 A에게 영향을 미친다는 의미이다.
대표적인 예는 A에서 B에 정의된 메서드를 호출하는 경우이다. 
만약 B에 새로운 메서드나 기존 메서드의 형식이 변경될 경우 A도 
그에 따라 수정되어야 한다. 이러한 경우 A와 B는 의존관계가 있다고 말한다.

인터페이스에 의존할 경우 A는 영향을 최소화로 받게 된다. 결합도가 낮다고 설명할 수 있다. 인터페이스를 통해 의존관계를 제한해 주면
그만큼 변경에서 자유로워 진다.
```
### 의존관계 주입(Dependency Injection)
```
오브젝트는 다른 오브젝트에 주입할 수 있는게 아니다. 오브젝트의 레퍼런스가 전달될 뿐이다.
DI는 오브젝트 레퍼런스를 외부로부터 제공(주입)받고 이를 통해 다른 오브젝트와 다이내믹하게 의존관계가 만들어지는 것이 핵심이다.

자바에서 오브젝트에 무언가를 넣어준다는 개념은 메서드를 실행하면서 파라미터로 오브젝트의 레퍼런스를 전달해주는 방법뿐이다.
가장 손쉽게 사용할 수 있는 파라미터 전달이 가능한 메서드는 바로 생성자이다.
```
```
인터페이스를 통해 설계 시점에 느슨한 의존관계를 갖는 경우 런타임 시점에서 의존관계를 맺을 수 있다. 프로그램이 시작되고 UserDao 오브젝트가 만들어지고 나서
런타임 시에 의존관계를 맺는 대상, 즉 실제 사용대상인 오브젝트를 의존 오브젝트라고 말한다.

의존관계 주입은 이렇게 구체적인 의존 오브젝트와 그것을 사용할 주체, 보통 클라이언트라고 부르는 오브젝트를 런타임 시에 연결해주는 작업을 말한다.

정리하면 의존관계 주입이란 다음과 같은 세 가지 조건을 충족하는 작업을 말한다.
- 클래스 모델이나 코드에는 런타임 시점의 의존관계가 드러나지 않는다. 그러기 위해서는 인터페이스에만 의존하고 있어야 한다.
- 런타임 시점의 의존관계는 컨테이너나 팩토리 같은 제 3의 존재가 결정한다.
- 의존관계는 사용할 오브젝트에 대한 레퍼런스를 외부에서 제공(주입)해줌으로써 만들어진다.
```


