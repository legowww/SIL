# 싱글톤 패턴

## 싱글톤을 만드는 방법 enum 타입이 최선
> enum은 태생부터 싱글톤이라서 잡다한 생성 과정을 JVM이 알아서 처리하므로 객체 생성 및 동기화 문제를 고민하지 않아도 된다.
  ```java
	public enum MySingletonEnum {
		INSTANCE,
		public void foo() {}
	}

	// 사용 예시
	void main() {
		MySingletonEnum mse = MySingletonEnum.INSTANCE;
	}
  ```
## 싱글톤을 만드는 프라이빗 생성자 방법의 취약점
	자바 리플렉션 API로 생성자 접근 수정자를 퍼블릭으로 바꾸면 싱글톤을 다시 만들 수 있게된다.



## 싱글톤은 언제 사용할까?
	읽어들이는 비용이 적잖은, 그러면서도 자주 접근하는 데이터를 캐시하거나
	전역 범위에서 접근할 수 있게 데이터를 공유할 때

### 단점
	멀티스레드 환경에서 생성자 getInstance() 메서드의 원자성이 결여된 탓에 경합 조건이 발생하면 싱글톤 인스턴스가 2개 이상 만들어 질 수 있다. 
	-> synchronized 대안, emum 최선
	
	단위 테스트를 하나 실행할 때에도 전역 상태값을 초기화해야하는 번거로움이 생긴다.

